<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projekty</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js" crossorigin="anonymous"></script>
    <script defer src="theme.js"></script>
</head>

<body>
    <!-- Dynamick칠 na캜칤t치n칤 navigace -->
    <header id="navbar-container"></header>
    <script>
        // Na캜칤t치n칤 naviga캜n칤 li코ty
fetch('navbar.html')
.then(response => response.text())
.then(data => {
    document.getElementById('navbar-container').innerHTML = data;

    // Inicializace 코ipky u logo-textu
    const logoText = document.querySelector('.logo-text');
    if (logoText) {
        const logoSVG = logoText.nextElementSibling;
        if (logoSVG) {
            logoSVG.style.transition = 'transform 600ms ease';
            logoSVG.style.transform = 'rotate(0deg)';
            logoText.addEventListener('mouseenter', () => {
                logoSVG.style.transform = 'rotate(-180deg)';
            });
            logoText.addEventListener('mouseleave', () => {
                logoSVG.style.transform = 'rotate(0deg)';
            });
        }
    }

    // Funkce pro zm캩nu motivu
    const themeButton = document.getElementById('themeButton');
    if (themeButton) {
        themeButton.addEventListener('click', () => {
            const currentTheme = document.body.classList[0];
            const themes = ['light', 'dark', 'solar'];
            const nextTheme = themes[(themes.indexOf(currentTheme) + 1) % themes.length];
            document.body.classList.remove(currentTheme);
            document.body.classList.add(nextTheme);
            localStorage.setItem('theme', nextTheme);
        });

        // Nastaven칤 v칳choz칤ho motivu p콏i na캜ten칤 str치nky
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            document.body.classList.add(savedTheme);
        } else {
            document.body.classList.add('light');
        }
    }
});

    </script>

    <main>
        <h1>Projekty 游닇</h1>
        <p style="text-align: center; margin-bottom: 20px;">
            N캩kter칠 z t캩chto projekt콢 v jazyce C byly vytvo콏eny v r치mci studijn칤ch 칰kol콢 na Univerzit캩 Palack칠ho.
        </p>
        <hr>

        <!-- V칳b캩r programovac칤ho jazyka -->
        <div class="projects-list">
            <div class="project-item" onclick="showProjects('c')">Projekty v jazyce C</div>
            <div class="project-item" onclick="showProjects('python')">Projekty v Pythonu</div>
        </div>

        <!-- Podsekce s projekty (skryt치 dokud se nevybere jazyk) -->
        <div id="project-section" style="display: none;">
            <h2 id="language-title"></h2>
            <div class="projects-list" id="language-projects"></div>
            <button onclick="goBack()" class="back-button">Zp캩t</button>
        </div>

        <!-- Mod치ln칤 okno s k칩dem -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <button class="copy-button" onclick="copyCode()">Copy</button>
                <span id="copy-notification" class="copy-notification" style="display:none;">Zkop칤rov치no!</span>
                <span class="close" onclick="closeModal()">&times;</span>
                <pre id="code-display" class="code-block"></pre>
            </div>
        </div>
    </main>

    <script>
        // Zobrazen칤 seznamu projekt콢 podle jazyka
        function showProjects(language) {
            const projects = {
                c: [
                    { name: "Program kresl칤c칤 obrazec pomoc칤 ASCII", file: "asciigrafika.c" },
                    { name: "Implementace bin치rn칤ho vyhled치v치n칤", file: "binarysearch.c" },
                    { name: "Porovn치n칤 efektivity t콏칤d칤c칤ch algoritm콢", file: "sortcompare.c" },
                    { name: "V칳pis stylizovan칠 ASCII tabulky na v칳stup", file: "ascii.c" }
                ],
                python: [
                    { name: "Prototyp hry typu Flappy Bird v pygame", file: "flappy.py" },
                    { name: "Hra Pong pro dva hr치캜e v pygame", file: "pong.py"},
                    { name: "Automatizovan칳 telegram bot na p콏칤jem objedn치vek", file: "shopping_bot.py"}
                ]
            };

            // Nastaven칤 nadpisu
            document.getElementById("language-title").textContent = "Projekty v jazyce " + language.charAt(0).toUpperCase() + language.slice(1);
            const projectList = document.getElementById("language-projects");
            projectList.innerHTML = "";

            // Vygenerov치n칤 seznamu projekt콢
            projects[language].forEach(proj => {
                const projectDiv = document.createElement("div");
                projectDiv.className = "project-item";
                projectDiv.textContent = proj.name;
                projectDiv.onclick = () => openProject(language, proj.file);
                projectList.appendChild(projectDiv);
            });

            // Zobrazen칤 podsekce
            document.querySelector(".projects-list").style.display = "none";
            document.getElementById("project-section").style.display = "block";
        }

        // N치vrat na hlavn칤 str치nku
    function goBack() {
        // Obnoven칤 viditelnosti hlavn칤ho seznamu
     const mainList = document.querySelector(".projects-list");
        mainList.style.display = "block";

        // Obnoven칤 rozlo쬰n칤 (mezery mezi polo쬶ami)
        const projectItems = mainList.querySelectorAll(".project-item");
        projectItems.forEach(item => {
            item.style.marginBottom = "10px";  // P콏id치n칤 mezery
        });

    // Skryt칤 podsekce
    document.getElementById("project-section").style.display = "none";
}
        // Otev콏en칤 projektu
        function openProject(language, fileName) {
            fetch(`scripts/${language}/${fileName}`)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('code-display').textContent = data;
                    document.getElementById('modal').style.display = 'block';
        
                    // P콏i ka쬯칠m otev콏en칤 mod치lu znovu p콏i콏a캞 funkci "Copy"
                    const copyBtn = document.querySelector('.copy-button');
                    copyBtn.onclick = () => {
                        navigator.clipboard.writeText(data).then(() => {
                            const notification = document.getElementById('copy-notification');
                            notification.style.display = 'inline';
                            setTimeout(() => {
                                notification.style.display = 'none';
                            }, 1000);
                        });
                    };
                });
        }

        // Zav콏en칤 mod치ln칤ho okna
        function closeModal() {
            document.getElementById('modal').style.display = 'none';
            document.getElementById('copy-notification').style.display = 'none'; // Skryt칤 notifikace
        }

        // Zav콏en칤 mod치ln칤ho okna p콏i kliknut칤 mimo obsah
        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target === modal) {
                closeModal();
            }
        };

        // Zav콏en칤 mod치ln칤ho okna p콏i stisknut칤 kl치vesy "ESC"
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>
